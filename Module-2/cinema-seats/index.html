<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cinema Seats</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-family: Arial, sans-serif;
      }
      .seating-chart {
        display: grid;
        grid-template-columns: repeat(3, 200px);
        gap: 10px;
        margin-top: 20px;
        justify-content: center;
      }
      .seat {
        display: flex;
        align-items: center;
        justify-content: center;
        border: 2px solid #333;
        border-radius: 8px;
        cursor: pointer;
        user-select: none;
        font-size: 2em;
        background: red;
        color: blue;
      }
      .available {
        background-color: #a8e6cf;
        font-size: 3em;
        padding: 25px 50px;
      }
      p {
        font-size: 3em;
      }
      h1 {
        margin-top: 30px;
        font-size: 5em;
      }
    </style>
  </head>
  <body>
    <h1>Welcome to the Cinema</h1>
    <p>Select your seats:</p>
    <div id="seating-chart" class="seating-chart">
      <div class="seat available" onclick="bookSeat(0, 0)">A1</div>
      <div class="seat available" onclick="bookSeat(0, 1)">A2</div>
      <div class="seat available" onclick="bookSeat(0, 2)">A3</div>
      <div class="seat available" onclick="bookSeat(1, 0)">B1</div>
      <div class="seat available" onclick="bookSeat(1, 1)">B2</div>
      <div class="seat available" onclick="bookSeat(1, 2)">B3</div>
      <div class="seat available" onclick="bookSeat(2, 0)">C1</div>
      <div class="seat available" onclick="bookSeat(2, 1)">C2</div>
      <div class="seat available" onclick="bookSeat(2, 2)">C3</div>
    </div>
    <button
      onclick="bookRandomSeat()"
      style="margin-top: 20px; font-size: 1.5em"
    >
      Book a Random Seat
    </button>

    <script>
      const theaterSeats = [
        ["X", "O", "X"],
        ["O", "X", "O"],
        ["X", "O", "X"],
      ];

      function bookSeat(row, col) {
        if (theaterSeats[row][col] === "O") {
          theaterSeats[row][col] = "X";
          updateSeatStatus(row, col, "booked");
          alert(
            `You have successfully booked seat ${String.fromCharCode(
              65 + row
            )}${col + 1}!`
          );
        } else {
          alert(
            `Seat ${String.fromCharCode(65 + row)}${col + 1} is already booked!`
          );
        }
      }

      function updateSeatStatus(row, col, status) {
        const seats = document.getElementsByClassName("seat");
        const index = row * 3 + col;
        seats[index].classList.remove("available", "booked");
        seats[index].classList.add(status);
      }

      function bookRandomSeat() {
        const availableSeats = [];

        for (let row = 0; row < theaterSeats.length; row++) {
          for (let col = 0; col < theaterSeats[row].length; col++) {
            if (theaterSeats[row][col] === "O") {
              availableSeats.push({ row, col });
            }
          }
        }

        if (availableSeats.length > 0) {
          const randomIndex = Math.floor(Math.random() * availableSeats.length);
          const { row, col } = availableSeats[randomIndex];
          bookSeat(row, col);
        } else {
          alert("No available seats to book.");
        }
      }
    </script>
  </body>
</html>
